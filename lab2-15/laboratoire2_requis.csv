title,description
"HLR01: Arguments provenant du terminal","Le programme principal peut recevoir un nombre variable d'arguments provenant du terminal ou de la configuration d'exécution d'Eclipse. Si aucun argument n'est donné, le programme doit s'arrêter."
"HLR02: Arguments possibles","Le programme principal peut repérer les options -t, -c, -a et -g. Les options peuvent être spécifiées dans n'importe quel ordre. Le -t indique des titres (primaryTitle). Le -c indique la catégorie du titre (titleType). Le -a indique des années de parution (startYear). Le -g indique le genre (genres)."
"HLR03: Argument obligatoire","Le programme principal doit vérifier que l'argument -t est présent. Dans le cas où il ne l'est pas, le programme s'arrête et affiche un message à l'utilisateur pour lui demander de spécifier au moins un titre."
"HLR04: Définition de structure - Titre","La structure représentant les champs d'une entrée de titre du fichier title_basics.tsv est définie. Le module resultat est responsable de gérer cette structure. Les champs pertinents sont les suivants : tconst (identifiant unique du film), primaryTitle (titre du film), startYear (année de parution), genres et titleType (catégorie du titre)."
"HLR05: Allocation de mémoires des titres","Une fonction publique doit pouvoir allouer dynamiquement la structure définie au HLR04 et retourner un pointeur vers celle-ci"
"HLR06: Définition de structure - Résultats","La structure représentant les résultats de recherche est définie. Elle contient la liste des titres retenus (HLR04). Si nécessaire, elle contient aussi le nombre de titres retenus. Le module resultat est responsable de gérer cette structure."
"HLR07: Allocation de mémoires des résultats","Une fonction publique doit pouvoir allouer dynamiquement la structure définie au HLR06 et retourner un pointeur vers celle-ci"
"HLR08: Ajout de titre aux résultats","Une fonction publique doit permettre de rajouter une structure de titre à la structure de résultats définie au HLR06. Elle reçoit comme paramètres un pointeur vers la structure de résultats ainsi que la structure de titre à ajouter. La fonction doit faire une copie de chaque champ du titre reçu, car celui-ci pourrait être temporaire."
"HLR09: Visualisation des résultats","Une fonction publique permet d'écrire dans un fichier TSV tous les résultats. La structure du fichier doit respecter celle utilisée pour la base de données."
"HLR10: Exploration de la base de données de titres","Une fonction publique du module imdb, recevant la liste des critères de recherche, est la seule à accéder au contenu du fichier title_basics.tsv."
"HLR11: Ouverture et parcours des titres","L'exploration des données se fait ligne par ligne à la suite de l'ouverture du fichier en mode lecture."
"HLR12: Décomposition de titres","Le module imdb contient une fonction privée permettant de décomposer tous les champs d'une ligne du fichier title_basics.tsv."
"HLR13: Comparaison de titres","Une fonction privée au module imdb permet de comparer un titre du fichier title_basics.tsv aux critères de recherches. Plus précisément, la fonction doit comparer le titre donné avec l'argument -t et le titre du champ primaryTitle d'une ligne du fichier de base de données. S'ils concordent, l'entrée est conservée dans les résultats. Si un genre, une catégorie de titre et/ou des années de parution sont présents dans les critères de recherches, ils doivent être utilisés pour filtrer les résultats retenus. Une entrée retenue doit correspondre à tous les critères donnés."
"HLR14: Recherche de titre et création de résultats","La fonction définie au HLR10 doit, pour chaque ligne lue, décomposer la ligne de titre (HLR12), comparer celle-ci avec les critères de recherche (HLR13) puis ajouter le titre de la base de données aux résultats (HLR08). La fonction retourne donc un pointeur vers une structure de résultats remplie de titres qui répondent aux critères de recherche."
"HLR15: Modification de structure - Titre","Deux nouveaux champs sont ajoutés à la structure définie au HLR04. Ces deux champs correspondent aux informations sur la cote de classement du titre (averageRating et numVotes)."
"HLR16: Ajout de cote aux titres","Une fonction publique doit permettre de rajouter les informations manquantes sur la cote de classement à une structure de titre définie au HLR04. Elle reçoit comme paramètres un pointeur vers la structure de titre, la cote de classement à l'attribuer ainsi que le nombre de votes récoltés."
"HLR17: Visualisation des résultats - ajout de cotes","La fonction définie au HLR09 doit écrire dans un deuxième fichier TSV tous les résultats de cotes. La structure du fichier doit respecter celle utilisée pour la base de données."
"HLR18: Exploration de la base de données de cotes","Une fonction publique du module imdb, recevant la liste de résultats de recherche, est la seule à accéder au contenu du fichier title_ratings.tsv."
"HLR19: Ouverture et parcours des cotes","L'exploration des données se fait ligne par ligne à la suite de l'ouverture du fichier en mode lecture."
"HLR20: Décomposition des cotes","Le module imdb contient une fonction privée permettant de décomposer tous les champs d'une ligne du fichier title_ratings.tsv."
"HLR21: Comparaison de cotes","Une fonction privée au module imdb permet de comparer une ligne de cote du fichier title_ratings.tsv aux résultats de titres retenus. Plus précisément, la fonction doit vérifier si l'identifiant unique de la cote (tconst) et ceux des titres retenus sont identiques. Si la cote est celle d'un des titres retenus, il faut que ses données soient ajoutées à la structure de titre qui lui correspond. Attention, il est faux de se fier à l'ordre que les identifiants tconst apparaissent dans les fichiers de base de données. Ils ne sont pas parfaitement en ordre croissant."
"HLR22: Recherche de cote et mise à jour des résultats","La fonction définie au HLR17 doit, pour chaque ligne lue, décomposer la ligne de cote, comparer celle-ci avec les résultats de titres puis ajouter les informations sur la cote de classement aux titres correspondant. L'ordre d'exécution mentionné peut être différent."
"HLR23: Spécification concernant la base de données","Les noms de la base de données doivent absolument être : title_basics.tsv et title_ratings.tsv."
"HLR24: Exploration de la base de données","Le programme principal doit explorer les deux fichiers de base de données en utilisant les fonctions du module imdb."
"HLR25: Retour des résultats à l'utilisateur","Le programme principal doit donner les résultats de recherche à l'utilisateur en utilisant les fonctions du module resultat."
"HLR26: Gestion de mémoire","Toute mémoire allouée se doit d'être désallouée correctement avant de quitter le programme. Validez votre gestion de mémoire en utilisant Valgrind."